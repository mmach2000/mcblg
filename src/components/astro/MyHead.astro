---
import type { Props } from '@astrojs/starlight/props';
import StarlightHead from '@astrojs/starlight/components/Head.astro';

import { fade } from 'astro:transitions';
import ProgressBar from 'astro-vtbot/components/ProgressBar.astro';
import HeadVT from 'astro-vtbot/components/starlight/Base.astro';
---

<HeadVT {...Astro.props} replaceSidebarContent transition:animate={fade({ duration: '0.2s' })}>
  <ProgressBar />
  <StarlightHead {...Astro.props}>
    <slot />
  </StarlightHead>
  <link rel="preload" as="image" href="/img/logo.svg" />
</HeadVT>

<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?version=4.8.0" />

<script type="text/partytown" is:inline src="https://www.googletagmanager.com/gtag/js?id=G-02B72QHDVW" />

<script type="text/partytown" is:inline>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    // eslint-disable-next-line prefer-rest-params
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'G-02B72QHDVW');
</script>
