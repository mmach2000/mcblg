---
import type { Props } from '@astrojs/starlight/props';
import { FeelGood } from '@/components/react/FeelGood';
import { getContinuum } from '@/utils/content';
import Default from '@astrojs/starlight/components/Footer.astro';

const { slug, pagination } = Astro.props;

// 显示在 footer 中的页面必须与当前页面的分类相同
function showHref(href?: string) {
  return getContinuum(slug) === getContinuum(href);
}

const prev = showHref(pagination?.prev?.href) ? pagination.prev : undefined;
const next = showHref(pagination?.next?.href) ? pagination.next : undefined;
---

{
  getContinuum(slug) && <FeelGood pageSlug={slug} client:only="react" />
}
<Default {...Astro.props} pagination={{ prev, next }}>
  <slot />
</Default>
